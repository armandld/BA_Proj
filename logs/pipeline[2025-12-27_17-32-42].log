[2025-12-27 17:32:46] ==============================================================
[2025-12-27 17:32:46] üöÄ Starting Q-HAS: Quantum-Hierarchical Adaptive Steering Pipeline - Variational Workflow
[2025-12-27 17:32:46] Mode: simulator | Backend: aer | Shots: 100000 | Method: COBYLA
[2025-12-27 17:32:46] Script Path: /Users/Sayu/Desktop/BA_Proj/src
[2025-12-27 17:32:46] Output Dir: /Users/Sayu/Desktop/BA_Proj/data
[2025-12-27 17:32:46] Input File: /Users/Sayu/Desktop/BA_Proj/input/mapping_input.json
[2025-12-27 17:32:46] ==============================================================
[2025-12-27 17:32:46] üßπ Cleaning previous results...
[2025-12-27 17:32:46] ‚û°Ô∏è Stage: Main Pipeline
[2025-12-27 17:32:46] ‚û°Ô∏è Stage: Main Pipeline
[2025-12-27 17:32:46] Running: python /Users/Sayu/Desktop/BA_Proj/src/pipeline.py --out-dir /Users/Sayu/Desktop/BA_Proj/data --mode simulator --grid-size 2 --dns-resolution 256 --t-max 1.0 --dt 0.01 --hybrid-dt 0.1 --depth 1 --backend aer --shots 100000 --method COBYLA
[2025-12-27 17:32:46] Running: python /Users/Sayu/Desktop/BA_Proj/src/pipeline.py --out-dir /Users/Sayu/Desktop/BA_Proj/data --mode simulator --grid-size 2 --dns-resolution 256 --t-max 1.0 --dt 0.01 --hybrid-dt 0.1 --depth 1 --backend aer --shots 100000 --method COBYLA
üîπ Detected Conda environment: qiskit-project
üîπ Detected Conda environment: qiskit-project
[2025-12-27 17:32:50] ==============================================================
[2025-12-27 17:32:50] ==============================================================
[2025-12-27 17:32:50] üöÄ Starting Quantum Pipeline
[2025-12-27 17:32:50] üöÄ Starting Quantum Pipeline
[2025-12-27 17:32:50] Mode: simulator | Backend: aer | Shots: 100000 | Method: COBYLA
[2025-12-27 17:32:50] Mode: simulator | Backend: aer | Shots: 100000 | Method: COBYLA
[2025-12-27 17:32:50] Script Path: /Users/Sayu/Desktop/BA_Proj/src/VQA
[2025-12-27 17:32:50] Script Path: /Users/Sayu/Desktop/BA_Proj/src/VQA
[2025-12-27 17:32:50] Output Dir: /Users/Sayu/Desktop/BA_Proj/data
[2025-12-27 17:32:50] Output Dir: /Users/Sayu/Desktop/BA_Proj/data
[2025-12-27 17:32:50] Input File: /Users/Sayu/Desktop/BA_Proj/data/vqa_input.json
[2025-12-27 17:32:50] Input File: /Users/Sayu/Desktop/BA_Proj/data/vqa_input.json
[2025-12-27 17:32:50] ==============================================================
[2025-12-27 17:32:50] ==============================================================
[2025-12-27 17:32:50] ‚û°Ô∏è Stage: TEST
[2025-12-27 17:32:50] ‚û°Ô∏è Stage: TEST
[2025-12-27 17:32:50] Running: python /Users/Sayu/Desktop/BA_Proj/src/VQA/TEST1.py --in-file /Users/Sayu/Desktop/BA_Proj/data/vqa_input.json --out-file /Users/Sayu/Desktop/BA_Proj/data/vqa_output.json --numqbits 8
[2025-12-27 17:32:50] Running: python /Users/Sayu/Desktop/BA_Proj/src/VQA/TEST1.py --in-file /Users/Sayu/Desktop/BA_Proj/data/vqa_input.json --out-file /Users/Sayu/Desktop/BA_Proj/data/vqa_output.json --numqbits 8
--- [VQA WORKER] D√©marrage ---
‚úÖ Input Lu avec succ√®s.
   -> Theta_h: 2 angles
   -> Theta_v: 2 angles
‚öôÔ∏è  G√©n√©ration de 1000 shots pour 8 qubits...
üìä R√©sultat Counts (Extrait): [('10101101', 69), ('01011101', 44), ('00101111', 359)] ...
üíæ Probabilit√©s sauvegard√©es dans: /Users/Sayu/Desktop/BA_Proj/data/vqa_output.json
üíæ Counts bruts sauvegard√©s dans : /Users/Sayu/Desktop/BA_Proj/data/debug_counts.json
--- [VQA WORKER] D√©marrage ---
‚úÖ Input Lu avec succ√®s.
   -> Theta_h: 2 angles
   -> Theta_v: 2 angles
‚öôÔ∏è  G√©n√©ration de 1000 shots pour 8 qubits...
üìä R√©sultat Counts (Extrait): [('10101101', 69), ('01011101', 44), ('00101111', 359)] ...
üíæ Probabilit√©s sauvegard√©es dans: /Users/Sayu/Desktop/BA_Proj/data/vqa_output.json
üíæ Counts bruts sauvegard√©s dans : /Users/Sayu/Desktop/BA_Proj/data/debug_counts.json
[2025-12-27 17:32:51] ‚úÖ Stage 'TEST' completed successfully.
[2025-12-27 17:32:51] ‚úÖ Stage 'TEST' completed successfully.
[2025-12-27 17:32:51] ==============================================================
[2025-12-27 17:32:51] ==============================================================
[2025-12-27 17:32:51] üéâ Q-HAS Variational pipeline completed successfully!
[2025-12-27 17:32:51] üéâ Q-HAS Variational pipeline completed successfully!
[2025-12-27 17:32:51] Results saved in: /Users/Sayu/Desktop/BA_Proj/data
[2025-12-27 17:32:51] Results saved in: /Users/Sayu/Desktop/BA_Proj/data
[2025-12-27 17:32:51] Full log: /Users/Sayu/Desktop/BA_Proj/data/../logs/pipeline[2025-12-27_17-32-48].log
[2025-12-27 17:32:51] Full log: /Users/Sayu/Desktop/BA_Proj/data/../logs/pipeline[2025-12-27_17-32-48].log
[2025-12-27 17:32:51] ==============================================================
[2025-12-27 17:32:51] ==============================================================
üîπ Detected Conda environment: qiskit-project
üîπ Detected Conda environment: qiskit-project
[2025-12-27 17:32:53] ==============================================================
[2025-12-27 17:32:53] ==============================================================
[2025-12-27 17:32:53] üöÄ Starting Quantum Pipeline
[2025-12-27 17:32:53] üöÄ Starting Quantum Pipeline
[2025-12-27 17:32:53] Mode: simulator | Backend: aer | Shots: 100000 | Method: COBYLA
[2025-12-27 17:32:53] Mode: simulator | Backend: aer | Shots: 100000 | Method: COBYLA
[2025-12-27 17:32:53] Script Path: /Users/Sayu/Desktop/BA_Proj/src/VQA
[2025-12-27 17:32:53] Script Path: /Users/Sayu/Desktop/BA_Proj/src/VQA
[2025-12-27 17:32:53] Output Dir: /Users/Sayu/Desktop/BA_Proj/data
[2025-12-27 17:32:53] Output Dir: /Users/Sayu/Desktop/BA_Proj/data
[2025-12-27 17:32:53] Input File: /Users/Sayu/Desktop/BA_Proj/data/vqa_input.json
[2025-12-27 17:32:53] Input File: /Users/Sayu/Desktop/BA_Proj/data/vqa_input.json
[2025-12-27 17:32:53] ==============================================================
[2025-12-27 17:32:53] ==============================================================
[2025-12-27 17:32:53] ‚û°Ô∏è Stage: TEST
[2025-12-27 17:32:53] ‚û°Ô∏è Stage: TEST
[2025-12-27 17:32:53] Running: python /Users/Sayu/Desktop/BA_Proj/src/VQA/TEST1.py --in-file /Users/Sayu/Desktop/BA_Proj/data/vqa_input.json --out-file /Users/Sayu/Desktop/BA_Proj/data/vqa_output.json --numqbits 8
[2025-12-27 17:32:53] Running: python /Users/Sayu/Desktop/BA_Proj/src/VQA/TEST1.py --in-file /Users/Sayu/Desktop/BA_Proj/data/vqa_input.json --out-file /Users/Sayu/Desktop/BA_Proj/data/vqa_output.json --numqbits 8
--- [VQA WORKER] D√©marrage ---
‚úÖ Input Lu avec succ√®s.
   -> Theta_h: 2 angles
   -> Theta_v: 2 angles
‚öôÔ∏è  G√©n√©ration de 1000 shots pour 8 qubits...
üìä R√©sultat Counts (Extrait): [('00001011', 183), ('00010011', 179), ('01001101', 110)] ...
üíæ Probabilit√©s sauvegard√©es dans: /Users/Sayu/Desktop/BA_Proj/data/vqa_output.json
üíæ Counts bruts sauvegard√©s dans : /Users/Sayu/Desktop/BA_Proj/data/debug_counts.json
--- [VQA WORKER] D√©marrage ---
‚úÖ Input Lu avec succ√®s.
   -> Theta_h: 2 angles
   -> Theta_v: 2 angles
‚öôÔ∏è  G√©n√©ration de 1000 shots pour 8 qubits...
üìä R√©sultat Counts (Extrait): [('00001011', 183), ('00010011', 179), ('01001101', 110)] ...
üíæ Probabilit√©s sauvegard√©es dans: /Users/Sayu/Desktop/BA_Proj/data/vqa_output.json
üíæ Counts bruts sauvegard√©s dans : /Users/Sayu/Desktop/BA_Proj/data/debug_counts.json
[2025-12-27 17:32:53] ‚úÖ Stage 'TEST' completed successfully.
[2025-12-27 17:32:53] ‚úÖ Stage 'TEST' completed successfully.
[2025-12-27 17:32:53] ==============================================================
[2025-12-27 17:32:53] ==============================================================
[2025-12-27 17:32:53] üéâ Q-HAS Variational pipeline completed successfully!
[2025-12-27 17:32:53] üéâ Q-HAS Variational pipeline completed successfully!
[2025-12-27 17:32:53] Results saved in: /Users/Sayu/Desktop/BA_Proj/data
[2025-12-27 17:32:53] Results saved in: /Users/Sayu/Desktop/BA_Proj/data
[2025-12-27 17:32:53] Full log: /Users/Sayu/Desktop/BA_Proj/data/../logs/pipeline[2025-12-27_17-32-51].log
[2025-12-27 17:32:53] Full log: /Users/Sayu/Desktop/BA_Proj/data/../logs/pipeline[2025-12-27_17-32-51].log
[2025-12-27 17:32:53] ==============================================================
[2025-12-27 17:32:53] ==============================================================
üîπ Detected Conda environment: qiskit-project
üîπ Detected Conda environment: qiskit-project
[2025-12-27 17:32:55] ==============================================================
[2025-12-27 17:32:55] ==============================================================
[2025-12-27 17:32:55] üöÄ Starting Quantum Pipeline
[2025-12-27 17:32:55] üöÄ Starting Quantum Pipeline
[2025-12-27 17:32:55] Mode: simulator | Backend: aer | Shots: 100000 | Method: COBYLA
[2025-12-27 17:32:55] Mode: simulator | Backend: aer | Shots: 100000 | Method: COBYLA
[2025-12-27 17:32:55] Script Path: /Users/Sayu/Desktop/BA_Proj/src/VQA
[2025-12-27 17:32:55] Script Path: /Users/Sayu/Desktop/BA_Proj/src/VQA
[2025-12-27 17:32:55] Output Dir: /Users/Sayu/Desktop/BA_Proj/data
[2025-12-27 17:32:55] Output Dir: /Users/Sayu/Desktop/BA_Proj/data
[2025-12-27 17:32:55] Input File: /Users/Sayu/Desktop/BA_Proj/data/vqa_input.json
[2025-12-27 17:32:55] Input File: /Users/Sayu/Desktop/BA_Proj/data/vqa_input.json
[2025-12-27 17:32:55] ==============================================================
[2025-12-27 17:32:55] ==============================================================
[2025-12-27 17:32:55] ‚û°Ô∏è Stage: TEST
[2025-12-27 17:32:55] ‚û°Ô∏è Stage: TEST
[2025-12-27 17:32:55] Running: python /Users/Sayu/Desktop/BA_Proj/src/VQA/TEST1.py --in-file /Users/Sayu/Desktop/BA_Proj/data/vqa_input.json --out-file /Users/Sayu/Desktop/BA_Proj/data/vqa_output.json --numqbits 8
[2025-12-27 17:32:55] Running: python /Users/Sayu/Desktop/BA_Proj/src/VQA/TEST1.py --in-file /Users/Sayu/Desktop/BA_Proj/data/vqa_input.json --out-file /Users/Sayu/Desktop/BA_Proj/data/vqa_output.json --numqbits 8
--- [VQA WORKER] D√©marrage ---
‚úÖ Input Lu avec succ√®s.
   -> Theta_h: 2 angles
   -> Theta_v: 2 angles
‚öôÔ∏è  G√©n√©ration de 1000 shots pour 8 qubits...
--- [VQA WORKER] D√©marrage ---
‚úÖ Input Lu avec succ√®s.
   -> Theta_h: 2 angles
   -> Theta_v: 2 angles
‚öôÔ∏è  G√©n√©ration de 1000 shots pour 8 qubits...
Traceback (most recent call last):
  File "/Users/Sayu/Desktop/BA_Proj/src/VQA/TEST1.py", line 142, in <module>
Traceback (most recent call last):
  File "/Users/Sayu/Desktop/BA_Proj/src/VQA/TEST1.py", line 142, in <module>
    main()
    main()
  File "/Users/Sayu/Desktop/BA_Proj/src/VQA/TEST1.py", line 112, in main
  File "/Users/Sayu/Desktop/BA_Proj/src/VQA/TEST1.py", line 112, in main
    counts = generate_random_counts(args.numqbits, args.shots)
    counts = generate_random_counts(args.numqbits, args.shots)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/Sayu/Desktop/BA_Proj/src/VQA/TEST1.py", line 32, in generate_random_counts
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/Sayu/Desktop/BA_Proj/src/VQA/TEST1.py", line 32, in generate_random_counts
    shot_chunk = random.randint(1, remaining_shots // 2)
    shot_chunk = random.randint(1, remaining_shots // 2)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/miniconda3/envs/qiskit-project/lib/python3.11/random.py", line 362, in randint
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/miniconda3/envs/qiskit-project/lib/python3.11/random.py", line 362, in randint
    return self.randrange(a, b+1)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/miniconda3/envs/qiskit-project/lib/python3.11/random.py", line 345, in randrange
    return self.randrange(a, b+1)
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/miniconda3/envs/qiskit-project/lib/python3.11/random.py", line 345, in randrange
    raise ValueError("empty range for randrange() (%d, %d, %d)" % (istart, istop, width))
    raise ValueError("empty range for randrange() (%d, %d, %d)" % (istart, istop, width))
ValueError: empty range for randrange() (1, 1, 0)
ValueError: empty range for randrange() (1, 1, 0)
Initialisation Orszag-Tang (Grille 2x2)...
Lancement pour 100 pas de temps...
VQA Probabilities: [0.95  0.85  0.664 0.129 0.711 0.966 0.743 0.503]
Step 0/100 (t=0.00) - Max Jz: 0.0000
Step 1/100 (t=0.01) - Max Jz: 0.0000
Step 2/100 (t=0.02) - Max Jz: 0.0000
Step 3/100 (t=0.03) - Max Jz: 0.0000
Step 4/100 (t=0.04) - Max Jz: 0.0000
Step 5/100 (t=0.05) - Max Jz: 0.0000
Step 6/100 (t=0.06) - Max Jz: 0.0000
Step 7/100 (t=0.07) - Max Jz: 0.0000
Step 8/100 (t=0.08) - Max Jz: 0.0000
Step 9/100 (t=0.09) - Max Jz: 0.0000
VQA Probabilities: [0.95  0.85  0.176 0.406 0.667 0.486 0.439 0.786]
Step 10/100 (t=0.10) - Max Jz: 0.0000
Step 11/100 (t=0.11) - Max Jz: 0.0000
Step 12/100 (t=0.12) - Max Jz: 0.0000
Step 13/100 (t=0.13) - Max Jz: 0.0000
Step 14/100 (t=0.14) - Max Jz: 0.0000
Step 15/100 (t=0.15) - Max Jz: 0.0000
Step 16/100 (t=0.16) - Max Jz: 0.0000
Step 17/100 (t=0.17) - Max Jz: 0.0000
Step 18/100 (t=0.18) - Max Jz: 0.0000
Step 19/100 (t=0.19) - Max Jz: 0.0000
‚ùå Erreur critique dans le VQA Shell: Command '['bash', '/Users/Sayu/Desktop/BA_Proj/src/run_VQA_pipeline.sh', '--in-file', '/Users/Sayu/Desktop/BA_Proj/data/vqa_input.json', '--out-dir', '/Users/Sayu/Desktop/BA_Proj/data', '--out-file', '/Users/Sayu/Desktop/BA_Proj/data/vqa_output.json', '--backend', 'aer', '--method', 'COBYLA', '--mode', 'simulator', '--opt_level', '1', '--shots', '100000', '--depth', '1', '--numqbits', '8']' returned non-zero exit status 1.
VQA Probabilities: None
Initialisation Orszag-Tang (Grille 2x2)...
Lancement pour 100 pas de temps...
VQA Probabilities: [0.95  0.85  0.664 0.129 0.711 0.966 0.743 0.503]
Step 0/100 (t=0.00) - Max Jz: 0.0000
Step 1/100 (t=0.01) - Max Jz: 0.0000
Step 2/100 (t=0.02) - Max Jz: 0.0000
Step 3/100 (t=0.03) - Max Jz: 0.0000
Step 4/100 (t=0.04) - Max Jz: 0.0000
Step 5/100 (t=0.05) - Max Jz: 0.0000
Step 6/100 (t=0.06) - Max Jz: 0.0000
Step 7/100 (t=0.07) - Max Jz: 0.0000
Step 8/100 (t=0.08) - Max Jz: 0.0000
Step 9/100 (t=0.09) - Max Jz: 0.0000
VQA Probabilities: [0.95  0.85  0.176 0.406 0.667 0.486 0.439 0.786]
Step 10/100 (t=0.10) - Max Jz: 0.0000
Step 11/100 (t=0.11) - Max Jz: 0.0000
Step 12/100 (t=0.12) - Max Jz: 0.0000
Step 13/100 (t=0.13) - Max Jz: 0.0000
Step 14/100 (t=0.14) - Max Jz: 0.0000
Step 15/100 (t=0.15) - Max Jz: 0.0000
Step 16/100 (t=0.16) - Max Jz: 0.0000
Step 17/100 (t=0.17) - Max Jz: 0.0000
Step 18/100 (t=0.18) - Max Jz: 0.0000
Step 19/100 (t=0.19) - Max Jz: 0.0000
‚ùå Erreur critique dans le VQA Shell: Command '['bash', '/Users/Sayu/Desktop/BA_Proj/src/run_VQA_pipeline.sh', '--in-file', '/Users/Sayu/Desktop/BA_Proj/data/vqa_input.json', '--out-dir', '/Users/Sayu/Desktop/BA_Proj/data', '--out-file', '/Users/Sayu/Desktop/BA_Proj/data/vqa_output.json', '--backend', 'aer', '--method', 'COBYLA', '--mode', 'simulator', '--opt_level', '1', '--shots', '100000', '--depth', '1', '--numqbits', '8']' returned non-zero exit status 1.
VQA Probabilities: None
Traceback (most recent call last):
  File "/Users/Sayu/Desktop/BA_Proj/src/pipeline.py", line 184, in <module>
Traceback (most recent call last):
  File "/Users/Sayu/Desktop/BA_Proj/src/pipeline.py", line 184, in <module>
    main()
    main()
  File "/Users/Sayu/Desktop/BA_Proj/src/pipeline.py", line 129, in main
  File "/Users/Sayu/Desktop/BA_Proj/src/pipeline.py", line 129, in main
    patches_to_create = grid.decode_refinement_patches(
    patches_to_create = grid.decode_refinement_patches(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/Sayu/Desktop/BA_Proj/src/Simulation/grid.py", line 70, in decode_refinement_patches
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/Sayu/Desktop/BA_Proj/src/Simulation/grid.py", line 70, in decode_refinement_patches
    probs_h = np.array(vqa_probs[:num_edges]).reshape((self.N, self.N))
                       ~~~~~~~~~^^^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
    probs_h = np.array(vqa_probs[:num_edges]).reshape((self.N, self.N))
                       ~~~~~~~~~^^^^^^^^^^^^
TypeError: 'NoneType' object is not subscriptable
